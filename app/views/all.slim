div#map style="width:100%;height:900px;"

javascript:

  function initMap() {

    var styledMapType = new google.maps.StyledMapType(#{{ my_api_css }},
      {name: 'Styled Map'});

    var map = new google.maps.Map(document.getElementById('map'), {
      center: { lat: #{origin[:lat]}, lng: #{origin[:lng]} },
      zoom: #{zoom.to_i},
      mapTypeControlOptions: {mapTypeIds: "off"}
    });

    setMarkers(map);

    map.mapTypes.set('styled_map', styledMapType);
    map.setMapTypeId('styled_map');
  }

  var allpoi = #{all};

  function setMarkers(map) {

    for (var i = 0; i < allpoi.length; i++) {
      var poi = allpoi[i];
      var marker = new google.maps.Marker({
        icon: {
          path: google.maps.SymbolPath.CIRCLE,
          scale: 3
        },
        position: {
          lat: poi[0],
          lng: poi[1]
        },
        map: map
      });
    }
  }

<script src="https://maps.googleapis.com/maps/api/js?key=#{my_api_key}&callback=initMap"></script>
